<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Smart home</title>

        <link type="text/css" href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" rel="stylesheet"/>
<!--
        <link type="text/css" href="themes/css/jquery.ui.all.css" rel="stylesheet"/>
        <link type="text/css" href="themes/css/jquery.ui.progressbar.css" rel="stylesheet"/>
-->

        <script type="text/javascript" src="js/jquery-1.8.0.js"></script>
<!--
        <script type="text/javascript" src="js/jquery.ui.core.js"></script>
        <script type="text/javascript" src="js/jquery.ui.widget.js"></script>
        <script type="text/javascript" src="js/jquery.ui.progressbar.js"></script>
-->
        <script type="text/javascript" src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>

        <script type="text/javascript" src="js/jqtouch-jquery.js"></script>
        <style type="text/css" media="screen">@import "themes/css/apple.css";</style>
        <script src="js/zepto.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="js/jqtouch.min.js" type="text/javascript" charset="utf-8"></script>

        <script src="js/smarthome/ws_canp.js" type="text/javascript" charset="utf-8"></script>
        <script src="js/smarthome/ws_canp_widget_factory.js" type="text/javascript" charset="utf-8"></script>


        <script type="text/javascript" charset="utf-8">
            //noinspection JSPotentiallyInvalidConstructorUsage
            var jQT = new $.jQTouch({});

            $(function () {
                var rs1_la = widgetFactory.linearActuator('06/00', $("#rollers_room1_la"));
                var rs1_pb = widgetFactory.progressBar('06/02', $("#rollers_room1_pb"));
                $("#roller-shutters").bind('pageAnimationStart', function (e, info) {
                    rs1_la(!info.back);
                    rs1_pb(!info.back);
                });

                var wv = widgetFactory.binaryOutput('10/00', $("#water_valve"), "Valve");
                var ws = widgetFactory.binaryOutput('10/02', $("#water_siren"), "Siren");
                $("#water").bind('pageAnimationStart', function (e, info) {
                    wv(!info.back);
                    ws(!info.back);
                });

                var ma = widgetFactory.binaryOutput('10/01', $("#music_amp"), "Amplifier");
                $("#music").bind('pageAnimationStart', function (e, info) {
                    ma(!info.back);
                });

                var as = widgetFactory.binaryOutput('10/03', $("#alarm_siren"), "Siren");
                $("#alarm").bind('pageAnimationStart', function (e, info) {
                    as(!info.back);
                });
            });
        </script>


        <style type="text/css" media="screen">
            #jqt ul li.green.on a.active small {
                background: #008040;
            }

            #jqt ul li.green.on small {
                background: #00FF00;
                z-index: 10;
                border-radius: 3px;
                display: block;
                width: auto;
            }

            #jqt ul li.red.on a.active small {
                background: #800040;
            }

            #jqt ul li.red.on small {
                background: #FF0000;
                z-index: 10;
                border-radius: 3px;
                display: block;
                width: auto;
            }
        </style>

    </head>

    <body>
        <div id="jqt">
            <div id="main">
                <div class="toolbar">
                    <h1>Smart home</h1>
                </div>
                <ul class="edgetoedge">
                    <li class="arrow"><a href="#roller-shutters">Roller shutters</a></li>
                    <li class="arrow"><a href="#water">Water</a></li>
                    <li class="arrow"><a href="#music">Music</a></li>
                    <li class="arrow"><a href="#alarm">Alarm</a></li>
                </ul>
            </div>
            <div id="roller-shutters">
                <div class="toolbar">
                    <h1>Roller shutters</h1>
                    <a href="#" class="back">Back</a>
                </div>

                <h2>Room 1</h2>
                <ul id="rollers_room1_la" style="margin-top: 10px;" class="rounded">
                </ul>
                <div id="rollers_room1_pb" style="z-index:100;margin:0 10px;"></div>
            </div>
            <div id="water">
                <div class="toolbar">
                    <h1>Water supply</h1>
                    <a href="#" class="back">Back</a>
                </div>

                <ul style="margin-top: 10px;" class="rounded">
                    <li class="red" id="water_valve"></li>
                    <li class="red" id="water_siren"></li>
                </ul>
            </div>
            <div id="music">
                <div class="toolbar">
                    <h1>Music</h1>
                    <a href="#" class="back">Back</a>
                </div>

                <ul style="margin-top: 10px;" class="rounded">
                    <li class="green" id="music_amp"></li>
                </ul>
            </div>
            <div id="alarm">
                <div class="toolbar">
                    <h1>Music</h1>
                    <a href="#" class="back">Back</a>
                </div>

                <ul style="margin-top: 10px;" class="rounded">
                    <li class="red" id="alarm_siren"></li>
                </ul>
            </div>
        </div>

    <script>

    </script>
    </body>
</html>